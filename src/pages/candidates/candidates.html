<rally-name-header name="Representatives"></rally-name-header>

<ion-content>
        <ion-spinner *ngIf="loader"></ion-spinner>

        <ion-refresher (ionRefresh)="doRefresh($event)">
                <ion-refresher-content pullingText="Pull down to Refresh" pullingIcon="arrow-dropdown" refreshingSpinner="circles" refreshingText="Refreshing...">
                </ion-refresher-content>
            </ion-refresher>
            <div class="timeline-wrapper" *ngIf="enablePlaceholder">
                <div class="timeline-item">
                    <div class="animated-background">
                        <div class="background-masker header-top"></div>
                        <div class="background-masker header-left"></div>
                        <div class="background-masker header-right"></div>
                        <div class="background-masker header-bottom"></div>
                        <div class="background-masker subheader-left"></div>
                        <div class="background-masker subheader-right"></div>
                        <div class="background-masker subheader-bottom"></div>
                        <div class="background-masker content-top"></div>
                        <div class="background-masker content-first-end"></div>
                        <div class="background-masker content-second-line"></div>
                        <div class="background-masker content-second-end"></div>
                        <div class="background-masker content-third-line"></div>
                        <div class="background-masker content-third-end"></div>
                    </div>
                </div>
            </div>
        
            <div class="timeline-wrapper" *ngIf="enablePlaceholder">
                <div class="timeline-item">
                    <div class="animated-background">
                        <div class="background-masker header-top"></div>
                        <div class="background-masker header-left"></div>
                        <div class="background-masker header-right"></div>
                        <div class="background-masker header-bottom"></div>
                        <div class="background-masker subheader-left"></div>
                        <div class="background-masker subheader-right"></div>
                        <div class="background-masker subheader-bottom"></div>
                        <div class="background-masker content-top"></div>
                        <div class="background-masker content-first-end"></div>
                        <div class="background-masker content-second-line"></div>
                        <div class="background-masker content-second-end"></div>
                        <div class="background-masker content-third-line"></div>
                        <div class="background-masker content-third-end"></div>
                    </div>
                </div>
            </div>
        
            <div class="timeline-wrapper" *ngIf="enablePlaceholder">
                <div class="timeline-item">
                    <div class="animated-background">
                        <div class="background-masker header-top"></div>
                        <div class="background-masker header-left"></div>
                        <div class="background-masker header-right"></div>
                        <div class="background-masker header-bottom"></div>
                        <div class="background-masker subheader-left"></div>
                        <div class="background-masker subheader-right"></div>
                        <div class="background-masker subheader-bottom"></div>
                        <div class="background-masker content-top"></div>
                        <div class="background-masker content-first-end"></div>
                        <div class="background-masker content-second-line"></div>
                        <div class="background-masker content-second-end"></div>
                        <div class="background-masker content-third-line"></div>
                        <div class="background-masker content-third-end"></div>
                    </div>
                </div>
            </div>
         <!-- Tweet Cards -->
         <ion-card class="reps-card" style="position: relative;" *ngFor="let record of records">
                <ion-fab right top>
                    <button ion-fab color="light" (click)="tweetOrgEllipsisController(record.name, record.rep_id, record.tweet, record.followers)">
                        <ion-icon name="ios-more"></ion-icon>
                    </button>
                  
                </ion-fab>
                <ion-card-header>
                    <ion-item>
                        <ion-avatar item-start (click)="goToRepProfile(record.rep_id)">
                          <img [src]="record.photo_url ">
                        </ion-avatar>
                        <!-- only show icon on verified accounts <h2 style="display: flex;">Senator Bob Jones <img *ngIf="{{rep.verified === true}}" style="width: 12px; height: 12px; margin-left: 5px;" src="assets/img/TwtterVerified.svg" alt=""></h2> -->
        
                        <h2 style="display: flex; font-weight:bold;" (click)="goToRepProfile(record.rep_id)">{{record.name}}</h2>
                        <p><small>@{{record.twitter_username}} . {{record.created_at | amTimeAgo}}</small></p>
                      </ion-item>
                </ion-card-header>
                <ion-card-content (click)="openWebpage(record.twitter_username, record.tweet_id)">
                    <ion-row>
                        <ion-col col-10>
                            <blockquote style="margin: 0 !important;" class="twitter-video" data-lang="es"> 
                                {{record.tweet}}
                            </blockquote>               
                        </ion-col>
                        <ion-col col-2 text-right style="line-height: 50px;">
        
                            <ion-icon name="logo-twitter"></ion-icon>
                        </ion-col>
                        
                    </ion-row>
                </ion-card-content>
               
                <ion-row>
                    <button [disabled]="disable" class="btn-50 right-border" ion-button icon-left clear full (click)="getLikeStatus($event, record.id, tweetLike)" [ngStyle]="{'background-color': findInLoop(record.likes)}">
                        <ion-icon name="ios-heart" ></ion-icon>
                        {{record.likes_count}}
                    </button>
                    <button [disabled]="disable" class="btn-50" ion-button icon-left clear full (click)="shareController(record.tweet, record.photo_url, record.id, shareAction, $event)">
                            <ion-icon name="ios-share-alt"></ion-icon>
                            {{record.shares_count}}
    
                        </button>
        
                </ion-row>
            </ion-card>
    
            <!-- End Twitter Card -->
</ion-content>
