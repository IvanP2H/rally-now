<rally-name-header name="Community"></rally-name-header>

<ion-content>

        <ion-segment [(ngModel)]="all" (ionChange)="segmentChanged()">
                <ion-segment-button value="all" >
                  All 
                </ion-segment-button>
                <ion-segment-button value="friends" >
                  Friends
                </ion-segment-button>
              
              </ion-segment>

              <div *ngIf="!enable">

                    <ion-card *ngFor="let activity of objectivesAction">
                             <ion-fab right top style="top: 4px;
                        right: 0;">
                                <button ion-fab color="light"><ion-icon name="ios-more"></ion-icon></button>
                             
                            </ion-fab>
                    
                               
                                        <ion-item>
                                            <ion-avatar item-start (click)="goToPublicProfile(activity.user_id)">
                                               <img src="{{activity.photo_url}}">
                                            </ion-avatar>
                                            <h2 (click)="goToPublicProfile(activity.user_id)">{{activity.fname}}</h2>
                                            <div style="display: flex;">
                                                <p><small>{{activity.username}} . {{activity.created_at | amTimeAgo}}  </small></p>
                                                
                                            </div>
                                            
                    
                                          </ion-item>
                                    <ion-card-content>
                                       
                                         <p style="font-size: 20px;">{{activity.action}}ed  <strong>{{activity.representative}}</strong>
                                            for <strong>{{activity.organization}}</strong>'s campaign <strong>"{{activity.objective}}"</strong>.</p>
                                    </ion-card-content>
                           
                    
                            <ion-fab right bottom style="bottom: 50px;
                        right: 0;">
                                <div class="blue-icon" ion-fab color="light">
                                    <img *ngIf="activity.action === 'call'" src="assets/img/call-orange.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'donate'" src="assets/img/Donate.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'sign'" src="assets/img/Sign.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'fax'" src="assets/img/Fax.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'email'" src="assets/img/Email.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'tweet'" src="assets/img/tweet.svg" alt="" style="width: 25px;">
                    
                                </div>
                            </ion-fab>
                    
                            <ion-row>
                                    <button ion-button icon-left clear full [disabled]="disable" class="btn-50 right-border" (click)="getLikeStatus($event, activity.id, activityLike)" [ngStyle]="{'background-color': findInLoop(activity.user_likes)}">
                                         <ion-icon name="md-heart" ios="md-heart" md="ios-heart"></ion-icon>
                                         {{activity.user_likes_count}}
                                    </button>
                                    <button ion-button icon-left clear full [disabled]="disable" class="btn-50" (click)="shareController(activity.fname, activity.photo_url, activity.id, shareAction, $event)">
                                        <ion-icon name="ios-share-alt"></ion-icon>
                                        0
                                    </button>
                    
                            </ion-row>
                    
                        </ion-card>
            
            
            
                <ion-card *ngFor="let activity of activitiesData">
                    <ion-fab right top style="top: 4px;
                right: 0;">
                        <button ion-fab color="light"><ion-icon name="ios-more"></ion-icon></button>
                     
                    </ion-fab>
            
                       
                                <ion-item>
                                    <ion-avatar item-start (click)="goToPublicProfile(activity.user_id)">
                                       <img src="{{activity.photo_url}}">
                                    </ion-avatar>
                                    <h2 (click)="goToPublicProfile(activity.user_id)">{{activity.fname}}</h2>
                                    <div style="display: flex;">
                                        <p><small>{{activity.username}} . {{activity.created_at | amTimeAgo}}  </small></p>
                                        
                                    </div>
                                    
            
                                  </ion-item>
                            <ion-card-content>
                               
                                 <p style="font-size: 20px;">{{activity.action}}ed  <strong>{{activity.representative}}</strong></p>
                            </ion-card-content>
                   
            
                    <ion-fab right bottom style="bottom: 50px;
                right: 0;">
                        <div class="blue-icon" ion-fab color="light">
                            <img *ngIf="activity.action === 'call'" src="assets/img/call-orange.svg" alt="" style="width: 25px;">
                            <img *ngIf="activity.action === 'donate'" src="assets/img/Donate.svg" alt="" style="width: 25px;">
                            <img *ngIf="activity.action === 'sign'" src="assets/img/Sign.svg" alt="" style="width: 25px;">
                            <img *ngIf="activity.action === 'fax'" src="assets/img/Fax.svg" alt="" style="width: 25px;">
                            <img *ngIf="activity.action === 'email'" src="assets/img/Email.svg" alt="" style="width: 25px;">
            
            
                        </div>
                    </ion-fab>
            
                    <ion-row>
                        <button ion-button icon-left clear full [disabled]="disable" class="btn-50 right-border" (click)="getLikeStatus($event, activity.id, activityLike)" [ngStyle]="{'background-color': findInLoop(activity.user_likes)}">
                            <ion-icon name="md-heart" ios="md-heart" md="ios-heart"></ion-icon>
                            {{activity.user_likes_count}}
                       </button>
                       <button ion-button icon-left clear full [disabled]="disable" class="btn-50" (click)="shareController(activity.fname, activity.photo_url, activity.id, shareAction, $event)">
                           <ion-icon name="ios-share-alt"></ion-icon>
                           0
                       </button>
            
                    </ion-row>
            
                </ion-card>
                  
              </div>

              <!-- My Friends Community -->

              <div *ngIf="enable">
                    <ion-card *ngFor="let activity of objectivesPersonal">
                            <ion-fab right top style="top: 4px;
                        right: 0;">
                                <button ion-fab color="light"><ion-icon name="ios-more"></ion-icon></button>
                             
                            </ion-fab>
                    
                               
                                        <ion-item>
                                            <ion-avatar item-start (click)="goToPublicProfile(activity.user_id)">
                                               <img src="{{activity.photo_url}}">
                                            </ion-avatar>
                                            <h2 (click)="goToPublicProfile(activity.user_id)">{{activity.fname}}</h2>
                                            <div style="display: flex;">
                                                <p><small>{{activity.username}} . {{activity.created_at | amTimeAgo}}  </small></p>
                                                
                                            </div>
                                            
                    
                                          </ion-item>
                                    <ion-card-content>
                                       
                                         <p style="font-size: 20px;">{{activity.action}}ed  <strong>{{activity.representative}}</strong>
                                            for <strong>{{activity.organization}}</strong>'s campaign <strong>"{{activity.objective}}"</strong>.</p>
                                    </ion-card-content>
                           
                    
                            <ion-fab right bottom style="bottom: 50px;
                        right: 0;">
                                <div class="blue-icon" ion-fab color="light">
                                    <img *ngIf="activity.action === 'call'" src="assets/img/call-orange.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'donate'" src="assets/img/Donate.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'sign'" src="assets/img/Sign.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'fax'" src="assets/img/Fax.svg" alt="" style="width: 25px;">
                                    <img *ngIf="activity.action === 'email'" src="assets/img/Email.svg" alt="" style="width: 25px;">
                    
                    
                                </div>
                            </ion-fab>
                    
                            <ion-row>
                                    <button ion-button icon-left clear full [disabled]="disable" class="btn-50 right-border" (click)="getLikeStatus($event, activity.id, activityLike)" [ngStyle]="{'background-color': findInLoop(activity.user_likes)}">
                                         <ion-icon name="md-heart" ios="md-heart" md="ios-heart"></ion-icon>
                                         {{activity.user_likes_count}}
                                    </button>
                                    <button ion-button icon-left clear full [disabled]="disable" class="btn-50" (click)="shareController(activity.fname, activity.photo_url, activity.id, shareAction, $event)">
                                        <ion-icon name="ios-share-alt"></ion-icon>
                                        0
                                    </button>
                    
                            </ion-row>
                    
                        </ion-card>
            
            
            
                <ion-card *ngFor="let activity of activitiesPersonal">
                    <ion-fab right top style="top: 4px;
                right: 0;">
                        <button ion-fab color="light"><ion-icon name="ios-more"></ion-icon></button>
                     
                    </ion-fab>
            
                       
                                <ion-item>
                                    <ion-avatar item-start (click)="goToPublicProfile(activity.user_id)">
                                       <img src="{{activity.photo_url}}">
                                    </ion-avatar>
                                    <h2 (click)="goToPublicProfile(activity.user_id)">{{activity.fname}}</h2>
                                    <div style="display: flex;">
                                        <p><small>{{activity.username}} . {{activity.created_at | amTimeAgo}}  </small></p>
                                        
                                    </div>
                                    
            
                                  </ion-item>
                            <ion-card-content>
                               
                                 <p style="font-size: 20px;">{{activity.action}}ed  <strong>{{activity.representative}}</strong></p>
                            </ion-card-content>
                   
            
                    <ion-fab right bottom style="bottom: 50px;
                right: 0;">
                        <div class="blue-icon" ion-fab color="light">
                            <img *ngIf="activity.action === 'call'" src="assets/img/call-orange.svg" alt="" style="width: 25px;">
                            <img *ngIf="activity.action === 'donate'" src="assets/img/Donate.svg" alt="" style="width: 25px;">
                            <img *ngIf="activity.action === 'sign'" src="assets/img/Sign.svg" alt="" style="width: 25px;">
                            <img *ngIf="activity.action === 'fax'" src="assets/img/Fax.svg" alt="" style="width: 25px;">
                            <img *ngIf="activity.action === 'email'" src="assets/img/Email.svg" alt="" style="width: 25px;">
            
            
                        </div>
                    </ion-fab>
            
                    <ion-row>
                        <button ion-button icon-left clear full [disabled]="disable" class="btn-50 right-border" (click)="getLikeStatus($event, activity.id, activityLike)" [ngStyle]="{'background-color': findInLoop(activity.user_likes)}">
                            <ion-icon name="md-heart" ios="md-heart" md="ios-heart"></ion-icon>
                            {{activity.user_likes_count}}
                       </button>
                       <button ion-button icon-left clear full [disabled]="disable" class="btn-50" (click)="shareController(activity.fname, activity.photo_url, activity.id, shareAction, $event)">
                           <ion-icon name="ios-share-alt"></ion-icon>
                           0
                       </button>
            
                    </ion-row>
            
                </ion-card>
              </div>

        

  

</ion-content>

